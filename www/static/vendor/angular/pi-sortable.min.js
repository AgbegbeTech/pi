angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(t,c,d){return{require:"?ngModel",link:function(n,o,e,i){var l;function a(n,o){return o&&"function"==typeof o?function(e,t){n(e,t),o(e,t)}:n}var r={},u={receive:null,remove:null,start:null,stop:null,update:null};angular.extend(r,t),i?(n.$watch(e.ngModel+".length",function(){c(function(){o.sortable("refresh")})}),u.start=function(e,t){t.item.sortable={index:t.item.index()}},u.activate=function(e,t){l=o.contents();var n=o.sortable("option","placeholder");n&&n.element&&(l=l.not(o.find("."+n.element().attr("class").split(/\s+/).join("."))))},u.update=function(e,t){t.item.sortable.received||(t.item.sortable.dropindex=t.item.index(),o.sortable("cancel")),l.detach().appendTo(o),t.item.sortable.received&&n.$apply(function(){i.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},u.stop=function(e,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&n.$apply(function(){i.$modelValue.splice(t.item.sortable.dropindex,0,i.$modelValue.splice(t.item.sortable.index,1)[0])})},u.receive=function(e,t){t.item.sortable.received=!0},u.remove=function(e,t){n.$apply(function(){t.item.sortable.moved=i.$modelValue.splice(t.item.sortable.index,1)[0]})},n.$watch(e.uiSortable,function(e,t){angular.forEach(e,function(e,t){u[t]&&("stop"===t&&(e=a(e,function(){n.$apply()})),e=a(u[t],e)),o.sortable("option",t,e)})},!0),angular.forEach(u,function(e,t){r[t]=a(e,r[t])})):d.info("ui.sortable: ngModel not provided!",o),o.sortable(r)}}}]),angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(t,c,d){return{require:"?ngModel",link:function(n,o,e,i){function l(n,o){return o&&"function"==typeof o?function(e,t){n(e,t),o(e,t)}:n}var a,r={},u={receive:null,remove:null,start:null,stop:null,update:null};angular.extend(r,t),i?(n.$watch(e.ngModel+".length",function(){c(function(){o.sortable("refresh")})}),u.start=function(e,t){t.item.sortable={index:t.item.index()}},u.activate=function(){a=o.contents();var e=o.sortable("option","placeholder");e&&e.element&&(a=a.not(o.find("."+e.element().attr("class").split(/\s+/).join("."))))},u.update=function(e,t){t.item.sortable.received||(t.item.sortable.dropindex=t.item.index(),o.sortable("cancel")),a.detach().appendTo(o),t.item.sortable.received&&n.$apply(function(){i.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},u.stop=function(e,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&n.$apply(function(){i.$modelValue.splice(t.item.sortable.dropindex,0,i.$modelValue.splice(t.item.sortable.index,1)[0])})},u.receive=function(e,t){t.item.sortable.received=!0},u.remove=function(e,t){n.$apply(function(){t.item.sortable.moved=i.$modelValue.splice(t.item.sortable.index,1)[0]})},n.$watch(e.uiSortable,function(e){angular.forEach(e,function(e,t){u[t]&&("stop"===t&&(e=l(e,function(){n.$apply()})),e=l(u[t],e)),o.sortable("option",t,e)})},!0),angular.forEach(u,function(e,t){r[t]=l(e,r[t])})):d.info("ui.sortable: ngModel not provided!",o),o.sortable(r)}}}]);