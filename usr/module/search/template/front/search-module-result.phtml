
<form role="form">
    <div class="row">
        <div class="col-lg-6">
            <div class="input-group">
                <input type="text" name="q" value="<?php echo _escape($query); ?>" class="form-control" placeholder="<?php echo sprintf(__('Search in %s'), _escape($label)); ?>">
                <div class="input-group-btn">
                    <button type="submit" class="btn btn-default">
                        <span class="glyphicon glyphicon-search"></span> <?php _e('Search'); ?>
                    </button>
                </div>
            </div>

            <div class="form-group">
                <label><?php _e('Search in:'); ?></label>
                <div class="btn-group btn-group-xs">
                    <button type="button" class="btn btn-primary">
                        <?php echo _escape($label); ?>
                    </button>
                </div>

                <div class="btn-group btn-group-xs">
                    <button type="button" class="btn btn-default" onclick="window.location.href='<?php echo $this->url('', array('action' => 'index'), array(
                        'query' => array (
                            'q' => urlencode($query),
                        )
                    )); ?>'">
                        <?php _e('Global'); ?>
                    </button>
                </div>

                <div class="btn-group btn-group-xs">
                    <?php foreach ($modules as $name => $data) { ?>
                        <button type="button" class="btn btn-default" onclick="window.location.href='<?php echo $data['url']; ?>'">
                            <?php echo _escape($data['title']); ?>
                        </button>
                    <?php } ?>
                </div>
            </div>
        </div>
    </div>

</form>

<div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title"><?php _e('Search result'); ?></h3>
    </div>
    <div class="panel-body">
        <?php
            if (1 < $total) {
                echo sprintf(__('There are %d results.'), $total);
            } elseif (1 == $total) {
                echo sprintf(__('There is %d found.'), $total);
            } else {
                _e('No result found.');
            }
        ?>
    </div>

    <div class="list-group">
        <?php foreach ($result as $item) { ?>
        <a href="<?php echo $item['link']; ?>" class="list-group-item">
            <h4 class="list-group-item-heading"><?php echo _escape($item['title']); ?></h4>
            <p class="list-group-item-text"><?php echo _escape($item['content']); ?></p>
        </a>
        <?php } ?>
    </div>

    <?php
    if ($paginator) {
        echo $this->pagination($paginator);
    }
    ?>

</div>